# ============================================
# DEX Order Engine - Environment Configuration
# ============================================
# Copy this file to .env and set your values

# ============================================
# Environment
# ============================================
# Options: development, staging, production
NODE_ENV=development

# ============================================
# Server Configuration
# ============================================
HOST=localhost
PORT=3000

# ============================================
# Database Configuration (PostgreSQL)
# ============================================
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://postgres:password@localhost:5432/dex_order_engine

# Database pool settings
DB_POOL_SIZE=10
DB_MAX_CONNECTIONS=20
DB_IDLE_TIMEOUT_MS=30000
DB_CONNECTION_TIMEOUT_MS=2000

# ============================================
# Redis Configuration
# ============================================
# Format: redis://[:password]@host:port/db
REDIS_URL=redis://localhost:6379/0

# Redis retry configuration
REDIS_MAX_RETRIES=3
REDIS_RETRY_DELAY_MS=1000
REDIS_TIMEOUT_MS=5000

# ============================================
# Order Execution Configuration
# ============================================
# Maximum number of orders to execute concurrently
MAX_CONCURRENT_ORDERS=100

# Order execution timeout in milliseconds
ORDER_TIMEOUT_MS=30000

# Maximum retry attempts for failed operations
MAX_RETRIES=3

# DEX routing timeout
ROUTING_TIMEOUT_MS=2000

# Transaction building timeout
BUILDING_TIMEOUT_MS=3000

# ============================================
# Queue Configuration
# ============================================
# Maximum jobs in queue
MAX_QUEUE_SIZE=10000

# Number of jobs to process concurrently
QUEUE_CONCURRENCY=10

# Job execution timeout
JOB_TIMEOUT_MS=30000

# ============================================
# WebSocket Configuration
# ============================================
# Heartbeat interval for WebSocket connections
WS_HEARTBEAT_INTERVAL_MS=30000

# Maximum concurrent WebSocket connections
WS_MAX_CONNECTIONS=1000

# ============================================
# Logging Configuration
# ============================================
# Options: debug, info, warn, error
LOG_LEVEL=info

# Options: json, text
LOG_FORMAT=text

# ============================================
# Feature Flags
# ============================================
# Enable rate limiting (true/false)
ENABLE_RATE_LIMITING=false

# Enable metrics collection (true/false)
ENABLE_METRICS=false

# Enable health check endpoint (true/false, default true)
ENABLE_HEALTH_CHECK=true
